name: bsky

services:
  redis:
    image: redislabs/redismod
    restart: always
    ports:
      - '6379:6379'
    volumes:
      - ${REDIS_DATA_FOLDER}:/data
    command: "--loadmodule /usr/lib/redis/modules/rejson.so --loadmodule /usr/lib/redis/modules/redistimeseries.so --save 60 1"
  
  redis-insight:
    image: redislabs/redisinsight:latest
    restart: always
    ports:
      - "5540:5540"
    volumes:
      - redis-insight:/db
    depends_on:
      - redis

volumes:
  redis-insight: